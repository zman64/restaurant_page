(()=>{var e,t,n,r,a={60:(e,t,n)=>{var r={"./fairy_tonic_soup.jpg":[888,888],"./gerudo_desert_pudding.jpg":[450,450],"./hyrule_herb_salad.jpg":[705,705],"./kakariko_crepes.jpg":[719,719],"./monster_curry.jpg":[799,799],"./zora_sashimi_platter.jpg":[688,688]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,17)))}a.keys=()=>Object.keys(r),a.id=60,e.exports=a}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return a[e](n,n.exports,i),n.exports}i.m=a,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".bundle.js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="restaurant_page:",i.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+a){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",r+a),s.src=e),n[e]=[t];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(m);var a=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=i.p+i.u(t),s=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[o,s,c]=n,d=0;if(o.some((t=>0!==e[t]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(c)c(i)}for(t&&t(n);d<o.length;d++)a=o[d],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkrestaurant_page=self.webpackChunkrestaurant_page||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";const e=i.p+"aebae7a107b78f13f72b.png";const t=JSON.parse('{"header":{"welcomeText":"Welcome to Triforce Tavern","imgAltText":"Triforce Tavern Logo"},"footer":{"copyrightText":"@ 2023 Triforce Tavern. All rights reserved."},"home":{"mainText":"Step into a culinary paradise inspired by the enchanting world of Zelda: Breath of the Wild. Triforce Tavern is a place where adventurers and food lovers can gather to savor dishes made from recipes straight out of the game.","dishDescription":"Todayâ€™s special is the \\"Hearty Wild Greens\\" - a magical blend of Hyrule herbs that will invigorate your senses and temporarily increase your maximum hearts. Crafted with fresh ingredients and the touch of our Hyrulean chefs, this dish is a must-try for Zelda enthusiasts and epicureans alike."},"menu":{"mainText":"Our Delicious Menu","sections":[{"name":"Appetizers","dishes":[{"name":"Hyrule Herb Salad","description":"Fresh greens tossed with Hyrule herbs in a light vinaigrette.","image":"hyrule_herb_salad.jpg"},{"name":"Fairy Tonic Soup","description":"Revitalizing broth made with a blend of magical fairy spices.","image":"fairy_tonic_soup.jpg"}]},{"name":"Main Courses","dishes":[{"name":"Monster Curry","description":"Spicy Goron curry with tender monster meat. Battle the heat!","image":"monster_curry.jpg"},{"name":"Zora Sashimi Platter","description":"A selection of the finest cuts from Lanayru Sea. So fresh it almost swims.","image":"zora_sashimi_platter.jpg"}]},{"name":"Desserts","dishes":[{"name":"Kakariko Crepes","description":"Light and airy crepes served with Lon Lon Ranch honey.","image":"kakariko_crepes.jpg"},{"name":"Gerudo Desert Pudding","description":"Rich, creamy pudding with a touch of exotic Gerudo spices.","image":"gerudo_desert_pudding.jpg"}]}]},"contact":{"addressHeading":"Our Address","address":"123 Hyrule Street, Kakariko Village, Hyrule","hoursHeading":"Opening Hours","hours":"Monday - Friday: 5:00 PM - 12:00 AM\\nSaturday - Sunday: 12:00 PM - 12:00 AM","formHeading":"Get in Touch"}}');function n(e,t,n){const r=document.createElement(e);return t&&Object.keys(t).forEach((e=>{r.setAttribute(e,t[e])})),n&&(r.textContent=n),r}function r(e,...t){t.forEach((t=>{e.appendChild(t)}))}function a(e){const t=n("div",{class:"tab-content contact"}),a=n("h2",null,"Contact Us");t.appendChild(a);const o=n("section",{class:"address-section"});r(o,n("h3",null,e.addressHeading),n("p",null,e.address));const i=n("section",{class:"hours-section"});r(i,n("h3",null,e.hoursHeading),n("p",null,e.hours));const s=n("section",{class:"contact-form-section"}),c=n("h3",null,e.formHeading),d=n("form");return r(d,n("input",{type:"text",placeholder:"Your Name"}),n("input",{type:"email",placeholder:"Your Email"}),n("textarea",{placeholder:"Your Message"}),n("button",{type:"submit"},"Send")),r(s,c,d),r(t,o,i,s),t}const o=i.p+"c78ed3ca0751184c42fe.png";function s(e){const t=document.createElement("div");t.classList.add("tab-content");const n=document.createElement("section");n.classList.add("featured_dish");const r=document.createElement("h2");r.textContent="Featured Dish";const a=new Image;a.src=o,a.alt="Featured Dish";const i=document.createElement("p");i.textContent=e.dishDescription,n.appendChild(r),n.appendChild(a),n.appendChild(i);const s=document.createElement("section");s.classList.add("visit_us");const c=document.createElement("h2");c.textContent="Visit Us";const d=document.createElement("p");d.textContent="We are located in the heart of Hyrule at Kakariko Village. Open daily from 5 PM to midnight. Join us for an unforgettable dining experience in a world where fantasy meets flavor.";return document.createElement("h2").textContent=e.mainText,s.appendChild(c),s.appendChild(d),t.appendChild(n),t.appendChild(s),t}function c(e){const t=document.createElement("div");t.classList.add("tab-content","menu");const n=document.createElement("h2");n.classList.add("menu-title"),n.textContent=e.mainText,t.appendChild(n);const r=document.createElement("div");r.classList.add("menu-area");for(let t of e.sections)r.appendChild(d(t.name,t.dishes));return t.appendChild(r),t}function d(e,t){const n=document.createElement("section");n.classList.add("menu-section");const r=document.createElement("h3");r.classList.add("menu-heading"),r.textContent=e,n.appendChild(r);const a=document.createElement("div");a.classList.add("menu-cards");for(let e of t)a.appendChild(l(e.name,e.description,e.image));return n.appendChild(a),n}function l(e,t,n){const r=document.createElement("div");r.classList.add("menu-card");const a=document.createElement("h4");a.classList.add("dish-name"),a.textContent=e,r.appendChild(a);const o=document.createElement("p");return o.classList.add("dish-text"),o.textContent=t,r.appendChild(o),i(60)(`./${n}`).then((t=>{const n=new Image;n.classList.add("dish-image"),n.src=t.default,n.alt=e,r.appendChild(n)})),r}document.addEventListener("DOMContentLoaded",(()=>{!function(t,n){const r=function(t){const n=document.createElement("header");n.className="header";const r=new Image;r.src=e,r.alt=t.imgAltText;const a=document.createElement("h1");return a.textContent=t.welcomeText,n.appendChild(r),n.appendChild(a),n}(n.header);t.appendChild(r),function(e,t){const n=document.createElement("ul");n.classList.add("tabs"),e.appendChild(n);const r=document.createElement("div");r.classList.add("tab_content"),e.appendChild(r);let o=null;const i=[{name:"home",contentFn:s,content:t.home},{name:"menu",contentFn:c,content:t.menu},{name:"contact",contentFn:a,content:t.contact}];function d(e,t,...n){o!==e&&(o=e,l(t,...n))}function l(e,...t){r.innerHTML="";const n=e(...t);r.appendChild(n)}i.forEach((e=>{const t=document.createElement("li");t.textContent=e.name.charAt(0).toUpperCase()+e.name.slice(1),t.addEventListener("click",(()=>d(e.name,e.contentFn,e.content))),n.appendChild(t)})),l(s,t.home)}(t,n);const o=function(e){const t=document.createElement("footer");t.className="footer";const n=document.createElement("p");return n.textContent=e.copyrightText,t.appendChild(n),t}(n.footer);t.appendChild(o)}(document.getElementById("content"),t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmhHLEdBQ2pDLE1BQU1nRyxFQUFTakosU0FBU00sY0FBYyxVQUN0QzJJLEVBQU8zQixVQUFZLFNBRW5CLE1BQU00QixFQUFPbEosU0FBU00sY0FBYyxLQUtwQyxPQUpBNEksRUFBS3hGLFlBQWNULEVBQUtrRyxjQUV4QkYsRUFBT3RILFlBQVl1SCxHQUVaRCxDQUNYLENGUW1CRyxDQUFhbkcsRUFBS2dHLFFBQ2pDOUIsRUFBUXhGLFlBQVlzSCxFQUN4QixDQVpHSSxDQURpQnJKLFNBQVNzSixlQUFlLFdBQ1AsRUFBSyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlL3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlLy4vc3JjL3BhZ2VzL01lbnUvaW1hZ2VzLyBsYXp5IF5cXC5cXC8uKiQgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9yZXN0YXVyYW50X3BhZ2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50X3BhZ2Uvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9yZXN0YXVyYW50X3BhZ2Uvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvZ2V0IG1pbmktY3NzIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9yZXN0YXVyYW50X3BhZ2Uvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlLy4vc3JjL3BhZ2VzL0NvbnRhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlLy4vc3JjL3BhZ2VzL0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlLy4vc3JjL3BhZ2VzL01lbnUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudF9wYWdlLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnRfcGFnZS8uL3NyYy9jb21wb25lbnRzL0hlYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50X3BhZ2UvLi9zcmMvY29tcG9uZW50cy9Gb290ZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyB0eXBlb2YgY3VycmVudCA9PSAnb2JqZWN0JyAmJiAhfmxlYWZQcm90b3R5cGVzLmluZGV4T2YoY3VycmVudCk7IGN1cnJlbnQgPSBnZXRQcm90byhjdXJyZW50KSkge1xuXHRcdE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpLmZvckVhY2goKGtleSkgPT4gKGRlZltrZXldID0gKCkgPT4gKHZhbHVlW2tleV0pKSk7XG5cdH1cblx0ZGVmWydkZWZhdWx0J10gPSAoKSA9PiAodmFsdWUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGRlZik7XG5cdHJldHVybiBucztcbn07IiwidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwicmVzdGF1cmFudF9wYWdlOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcblx0fVxuXHRpblByb2dyZXNzW3VybF0gPSBbZG9uZV07XG5cdHZhciBvblNjcmlwdENvbXBsZXRlID0gKHByZXYsIGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuXHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdHZhciBkb25lRm5zID0gaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdGRlbGV0ZSBpblByb2dyZXNzW3VybF07XG5cdFx0c2NyaXB0LnBhcmVudE5vZGUgJiYgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0XHRkb25lRm5zICYmIGRvbmVGbnMuZm9yRWFjaCgoZm4pID0+IChmbihldmVudCkpKTtcblx0XHRpZihwcmV2KSByZXR1cm4gcHJldihldmVudCk7XG5cdH1cblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwidmFyIG1hcCA9IHtcblx0XCIuL2ZhaXJ5X3RvbmljX3NvdXAuanBnXCI6IFtcblx0XHQ4ODgsXG5cdFx0ODg4XG5cdF0sXG5cdFwiLi9nZXJ1ZG9fZGVzZXJ0X3B1ZGRpbmcuanBnXCI6IFtcblx0XHQ0NTAsXG5cdFx0NDUwXG5cdF0sXG5cdFwiLi9oeXJ1bGVfaGVyYl9zYWxhZC5qcGdcIjogW1xuXHRcdDcwNSxcblx0XHQ3MDVcblx0XSxcblx0XCIuL2tha2FyaWtvX2NyZXBlcy5qcGdcIjogW1xuXHRcdDcxOSxcblx0XHQ3MTlcblx0XSxcblx0XCIuL21vbnN0ZXJfY3VycnkuanBnXCI6IFtcblx0XHQ3OTksXG5cdFx0Nzk5XG5cdF0sXG5cdFwiLi96b3JhX3Nhc2hpbWlfcGxhdHRlci5qcGdcIjogW1xuXHRcdDY4OCxcblx0XHQ2ODhcblx0XVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpZHMgPSBtYXBbcmVxXSwgaWQgPSBpZHNbMF07XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKCgpID0+IHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KGlkLCAxIHwgMTYpO1xuXHR9KTtcbn1cbndlYnBhY2tBc3luY0NvbnRleHQua2V5cyA9ICgpID0+IChPYmplY3Qua2V5cyhtYXApKTtcbndlYnBhY2tBc3luY0NvbnRleHQuaWQgPSA2MDtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5idW5kbGUuanNcIjtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiB1bmRlZmluZWQ7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF0pKTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rcmVzdGF1cmFudF9wYWdlXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3Jlc3RhdXJhbnRfcGFnZVwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBhdHRyaWJ1dGVzLCB0ZXh0Q29udGVudCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgXG4gICAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRleHRDb250ZW50KSB7XG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgLi4uY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRhY3RUYWIoY29udGFjdENvbnRlbnQpIHtcbiAgICBjb25zdCBjb250YWN0RGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzczogJ3RhYi1jb250ZW50IGNvbnRhY3QnIH0pO1xuXG4gICAgY29uc3QgaGVhZGluZyA9IGNyZWF0ZUVsZW1lbnQoJ2gyJywgbnVsbCwgJ0NvbnRhY3QgVXMnKTtcbiAgICBjb250YWN0RGl2LmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuXG4gICAgLy8gQWRkcmVzcyBTZWN0aW9uXG4gICAgY29uc3QgYWRkcmVzc1NlY3Rpb24gPSBjcmVhdGVFbGVtZW50KCdzZWN0aW9uJywgeyBjbGFzczogJ2FkZHJlc3Mtc2VjdGlvbicgfSk7XG4gICAgY29uc3QgYWRkcmVzc0hlYWRpbmcgPSBjcmVhdGVFbGVtZW50KCdoMycsIG51bGwsIGNvbnRhY3RDb250ZW50LmFkZHJlc3NIZWFkaW5nKTtcbiAgICBjb25zdCBhZGRyZXNzID0gY3JlYXRlRWxlbWVudCgncCcsIG51bGwsIGNvbnRhY3RDb250ZW50LmFkZHJlc3MpO1xuICAgIGFwcGVuZENoaWxkcmVuKGFkZHJlc3NTZWN0aW9uLCBhZGRyZXNzSGVhZGluZywgYWRkcmVzcyk7XG5cbiAgICAvLyBIb3VycyBTZWN0aW9uXG4gICAgY29uc3QgaG91cnNTZWN0aW9uID0gY3JlYXRlRWxlbWVudCgnc2VjdGlvbicsIHsgY2xhc3M6ICdob3Vycy1zZWN0aW9uJyB9KTtcbiAgICBjb25zdCBob3Vyc0hlYWRpbmcgPSBjcmVhdGVFbGVtZW50KCdoMycsIG51bGwsIGNvbnRhY3RDb250ZW50LmhvdXJzSGVhZGluZyk7XG4gICAgY29uc3QgaG91cnMgPSBjcmVhdGVFbGVtZW50KCdwJywgbnVsbCwgY29udGFjdENvbnRlbnQuaG91cnMpO1xuICAgIGFwcGVuZENoaWxkcmVuKGhvdXJzU2VjdGlvbiwgaG91cnNIZWFkaW5nLCBob3Vycyk7XG5cbiAgICAvLyBDb250YWN0IEZvcm0gU2VjdGlvblxuICAgIGNvbnN0IGNvbnRhY3RGb3JtU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nLCB7IGNsYXNzOiAnY29udGFjdC1mb3JtLXNlY3Rpb24nIH0pO1xuICAgIGNvbnN0IGZvcm1IZWFkaW5nID0gY3JlYXRlRWxlbWVudCgnaDMnLCBudWxsLCBjb250YWN0Q29udGVudC5mb3JtSGVhZGluZyk7XG4gICAgY29uc3QgY29udGFjdEZvcm0gPSBjcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgY29uc3QgaW5wdXROYW1lID0gY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdZb3VyIE5hbWUnIH0pO1xuICAgIGNvbnN0IGlucHV0RW1haWwgPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICdZb3VyIEVtYWlsJyB9KTtcbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywgeyBwbGFjZWhvbGRlcjogJ1lvdXIgTWVzc2FnZScgfSk7XG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgeyB0eXBlOiAnc3VibWl0JyB9LCAnU2VuZCcpO1xuICAgIGFwcGVuZENoaWxkcmVuKGNvbnRhY3RGb3JtLCBpbnB1dE5hbWUsIGlucHV0RW1haWwsIHRleHRhcmVhLCBzdWJtaXRCdXR0b24pO1xuICAgIGFwcGVuZENoaWxkcmVuKGNvbnRhY3RGb3JtU2VjdGlvbiwgZm9ybUhlYWRpbmcsIGNvbnRhY3RGb3JtKTtcblxuICAgIC8vIEFwcGVuZGluZyBhbGwgc2VjdGlvbnMgdG8gY29udGFjdERpdlxuICAgIGFwcGVuZENoaWxkcmVuKGNvbnRhY3REaXYsIGFkZHJlc3NTZWN0aW9uLCBob3Vyc1NlY3Rpb24sIGNvbnRhY3RGb3JtU2VjdGlvbik7XG5cbiAgICByZXR1cm4gY29udGFjdERpdjtcbn1cblxuIiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgQm90V0ltYWdlIGZyb20gJy4vQm90V19GcmllZF9XaWxkX0dyZWVuc19JY29uLnBuZyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIb21lVGFiKG1haW5Db250ZW50KSB7XG5cbiAgICBjb25zdCBob21lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaG9tZURpdi5jbGFzc0xpc3QuYWRkKCd0YWItY29udGVudCcpO1xuXG4gICAgLy8gRmVhdHVyZWQgRGlzaCBTZWN0aW9uXG4gICAgY29uc3QgZmVhdHVyZWREaXNoU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcbiAgICBmZWF0dXJlZERpc2hTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZlYXR1cmVkX2Rpc2gnKTtcblxuICAgIGNvbnN0IGRpc2hIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICBkaXNoSGVhZGluZy50ZXh0Q29udGVudCA9IFwiRmVhdHVyZWQgRGlzaFwiO1xuXG4gICAgY29uc3QgZGlzaEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgZGlzaEltYWdlLnNyYyA9IEJvdFdJbWFnZTtcbiAgICBkaXNoSW1hZ2UuYWx0ID0gXCJGZWF0dXJlZCBEaXNoXCI7XG5cbiAgICBjb25zdCBkaXNoRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZGlzaERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gbWFpbkNvbnRlbnQuZGlzaERlc2NyaXB0aW9uO1xuXG4gICAgZmVhdHVyZWREaXNoU2VjdGlvbi5hcHBlbmRDaGlsZChkaXNoSGVhZGluZyk7XG4gICAgZmVhdHVyZWREaXNoU2VjdGlvbi5hcHBlbmRDaGlsZChkaXNoSW1hZ2UpO1xuICAgIGZlYXR1cmVkRGlzaFNlY3Rpb24uYXBwZW5kQ2hpbGQoZGlzaERlc2NyaXB0aW9uKTtcblxuICAgIC8vIFZpc2l0IFVzIFNlY3Rpb25cbiAgICBjb25zdCB2aXNpdFVzU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcbiAgICB2aXNpdFVzU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCd2aXNpdF91cycpO1xuXG4gICAgY29uc3QgdmlzaXRIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICB2aXNpdEhlYWRpbmcudGV4dENvbnRlbnQgPSAnVmlzaXQgVXMnO1xuXG4gICAgY29uc3QgdmlzaXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB2aXNpdERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYFdlIGFyZSBsb2NhdGVkIGluIHRoZSBoZWFydCBvZiBIeXJ1bGUgYXQgS2FrYXJpa28gVmlsbGFnZS4gT3BlbiBkYWlseSBmcm9tIDUgUE0gdG8gbWlkbmlnaHQuIEpvaW4gdXMgZm9yIGFuIHVuZm9yZ2V0dGFibGUgZGluaW5nIGV4cGVyaWVuY2UgaW4gYSB3b3JsZCB3aGVyZSBmYW50YXN5IG1lZXRzIGZsYXZvci5gO1xuXG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IG1haW5Db250ZW50Lm1haW5UZXh0O1xuXG4gICAgdmlzaXRVc1NlY3Rpb24uYXBwZW5kQ2hpbGQodmlzaXRIZWFkaW5nKTtcbiAgICB2aXNpdFVzU2VjdGlvbi5hcHBlbmRDaGlsZCh2aXNpdERlc2NyaXB0aW9uKTtcblxuICAgIC8vIEFwcGVuZCBzZWN0aW9ucyB0byB0aGUgaG9tZSBkaXZcbiAgICAvL2hvbWVEaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG4gICAgaG9tZURpdi5hcHBlbmRDaGlsZChmZWF0dXJlZERpc2hTZWN0aW9uKTtcbiAgICBob21lRGl2LmFwcGVuZENoaWxkKHZpc2l0VXNTZWN0aW9uKTtcblxuICAgIC8vIEFkZCBtb3JlIGNvbnRlbnQuLi4gICAgXG4gICAgcmV0dXJuIGhvbWVEaXY7XG5cbn1cbiIsImltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVudVRhYihtZW51Q29udGVudCkge1xuXG4gICAgY29uc3QgbWVudURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lbnVEaXYuY2xhc3NMaXN0LmFkZCgndGFiLWNvbnRlbnQnLCAnbWVudScpO1xuXG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgaGVhZGluZy5jbGFzc0xpc3QuYWRkKCdtZW51LXRpdGxlJyk7XG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IG1lbnVDb250ZW50Lm1haW5UZXh0O1xuICAgIG1lbnVEaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG5cbiAgICBjb25zdCBtZW51QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lbnVBcmVhLmNsYXNzTGlzdC5hZGQoJ21lbnUtYXJlYScpO1xuXG5cbiAgICBmb3IgKGxldCBzZWN0aW9uIG9mIG1lbnVDb250ZW50LnNlY3Rpb25zKSB7XG4gICAgICAgIG1lbnVBcmVhLmFwcGVuZENoaWxkKGNyZWF0ZVNlY3Rpb24oc2VjdGlvbi5uYW1lLCBzZWN0aW9uLmRpc2hlcykpO1xuICAgIH1cbiAgICBtZW51RGl2LmFwcGVuZENoaWxkKG1lbnVBcmVhKTtcbiAgICByZXR1cm4gbWVudURpdjtcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWN0aW9uKHNlY3Rpb25OYW1lLCBkaXNoZXMpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbWVudS1zZWN0aW9uJyk7XG4gICAgY29uc3Qgc2VjdGlvbkhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHNlY3Rpb25IZWFkaW5nLmNsYXNzTGlzdC5hZGQoJ21lbnUtaGVhZGluZycpO1xuICAgIHNlY3Rpb25IZWFkaW5nLnRleHRDb250ZW50ID0gc2VjdGlvbk5hbWU7XG4gICAgc2VjdGlvbi5hcHBlbmRDaGlsZChzZWN0aW9uSGVhZGluZyk7XG4gICAgXG4gICAgY29uc3QgbWVudUNhcmRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVudUNhcmRzLmNsYXNzTGlzdC5hZGQoJ21lbnUtY2FyZHMnKTtcblxuICAgIGZvciAobGV0IGRpc2ggb2YgZGlzaGVzKSB7XG4gICAgICAgIG1lbnVDYXJkcy5hcHBlbmRDaGlsZChjcmVhdGVEaXNoKGRpc2gubmFtZSwgZGlzaC5kZXNjcmlwdGlvbiwgZGlzaC5pbWFnZSkpO1xuICAgIH1cbiAgICBzZWN0aW9uLmFwcGVuZENoaWxkKG1lbnVDYXJkcyk7XG5cbiAgICByZXR1cm4gc2VjdGlvbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGlzaChuYW1lLCBkZXNjcmlwdGlvbiwgaW1hZ2VGaWxlbmFtZSkge1xuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ21lbnUtY2FyZCcpO1xuICAgIFxuICAgIGNvbnN0IGRpc2hOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDQnKTtcbiAgICBkaXNoTmFtZS5jbGFzc0xpc3QuYWRkKCdkaXNoLW5hbWUnKTtcbiAgICBkaXNoTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY2FyZC5hcHBlbmRDaGlsZChkaXNoTmFtZSk7XG5cbiAgICBjb25zdCBkaXNoRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZGlzaERlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ2Rpc2gtdGV4dCcpO1xuICAgIGRpc2hEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoZGlzaERlc2NyaXB0aW9uKTtcblxuICAgIC8vIHVzZSBkeW5hbWljIGltcG9ydCBmb3IgdGhlIGltYWdlXG4gICAgaW1wb3J0KGAuL2ltYWdlcy8ke2ltYWdlRmlsZW5hbWV9YClcbiAgICAgICAgLnRoZW4oKGltYWdlTW9kdWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaXNoSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGRpc2hJbWFnZS5jbGFzc0xpc3QuYWRkKCdkaXNoLWltYWdlJyk7XG4gICAgICAgICAgICBkaXNoSW1hZ2Uuc3JjID0gaW1hZ2VNb2R1bGUuZGVmYXVsdDtcbiAgICAgICAgICAgIGRpc2hJbWFnZS5hbHQgPSBuYW1lO1xuICAgICAgICAgICAgY2FyZC5hcHBlbmRDaGlsZChkaXNoSW1hZ2UpO1xuICAgICAgICB9KTtcblxuICAgIHJldHVybiBjYXJkO1xufSIsIlxuaW1wb3J0ICcuL3NoYXJlZC9zdHlsZXMvZ2xvYmFsLmNzcyc7XG5pbXBvcnQgY3JlYXRlSGVhZGVyIGZyb20gJy4vY29tcG9uZW50cy9IZWFkZXInO1xuaW1wb3J0IGNyZWF0ZUZvb3RlciBmcm9tICcuL2NvbXBvbmVudHMvRm9vdGVyJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRhY3RUYWIgfSBmcm9tICcuL3BhZ2VzL0NvbnRhY3QnO1xuaW1wb3J0IHsgY3JlYXRlSG9tZVRhYiB9IGZyb20gJy4vcGFnZXMvSG9tZSdcbmltcG9ydCBkYXRhIGZyb20gJy4vY29udGVudC9lbi5qc29uJztcbmltcG9ydCB7IGNyZWF0ZU1lbnVUYWIgfSBmcm9tICcuL3BhZ2VzL01lbnUnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuICAgaW5pdGlhbGl6ZURlZmF1bHRDb250ZW50KGNvbnRlbnQsIGRhdGEpO1xuICAgXG59KTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZURlZmF1bHRDb250ZW50KGNvbnRlbnQsIGRhdGEpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBjcmVhdGVIZWFkZXIoZGF0YS5oZWFkZXIpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgIGluaXRpYWxpemVUYWJOYXZpZ2F0aW9uKGNvbnRlbnQsIGRhdGEpO1xuICAgIFxuICAgIGNvbnN0IGZvb3RlciA9IGNyZWF0ZUZvb3RlcihkYXRhLmZvb3Rlcik7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChmb290ZXIpO1xufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplVGFiTmF2aWdhdGlvbihjb250ZW50LCBkYXRhKSB7XG4gICAgY29uc3QgdGFicyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgdGFicy5jbGFzc0xpc3QuYWRkKCd0YWJzJyk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZCh0YWJzKTtcblxuICAgIGNvbnN0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3RhYl9jb250ZW50Jyk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZCh0YWJDb250ZW50KTtcblxuICAgIGxldCBhY3RpdmVUYWIgPSBudWxsO1xuXG4gICAgY29uc3QgdGFiRGF0YSA9IFtcbiAgICAgICAgeyBuYW1lOiAnaG9tZScsIGNvbnRlbnRGbjogY3JlYXRlSG9tZVRhYiwgY29udGVudDogZGF0YS5ob21lIH0sXG4gICAgICAgIHsgbmFtZTogJ21lbnUnLCBjb250ZW50Rm46IGNyZWF0ZU1lbnVUYWIsIGNvbnRlbnQ6IGRhdGEubWVudSB9LFxuICAgICAgICB7IG5hbWU6ICdjb250YWN0JywgY29udGVudEZuOiBjcmVhdGVDb250YWN0VGFiLCBjb250ZW50OiBkYXRhLmNvbnRhY3QgfVxuICAgIF07XG5cbiAgICB0YWJEYXRhLmZvckVhY2godGFiID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIHRhYkVsZW1lbnQudGV4dENvbnRlbnQgPSB0YWIubmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRhYi5uYW1lLnNsaWNlKDEpO1xuICAgICAgICB0YWJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKHRhYi5uYW1lLCB0YWIuY29udGVudEZuLCB0YWIuY29udGVudCkpO1xuICAgICAgICB0YWJzLmFwcGVuZENoaWxkKHRhYkVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gc3dpdGNoIHRhYiBjb250ZW50XG4gICAgZnVuY3Rpb24gc3dpdGNoVGFiKHRhYk5hbWUsIGNyZWF0ZVRhYkNvbnRlbnRGbiwgLi4uYXJncykge1xuICAgICAgICBpZiAoYWN0aXZlVGFiID09PSB0YWJOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlVGFiID0gdGFiTmFtZTtcbiAgICAgICAgbG9hZFRhYkNvbnRlbnQoY3JlYXRlVGFiQ29udGVudEZuLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkVGFiQ29udGVudChjcmVhdGVUYWJDb250ZW50Rm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgdGFiQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgdGFiQ29udGVudEVsZW1lbnQgPSBjcmVhdGVUYWJDb250ZW50Rm4oLi4uYXJncyk7XG4gICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQodGFiQ29udGVudEVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIGxvYWQgZGVmYXVsdCB0YWJcbiAgICBsb2FkVGFiQ29udGVudChjcmVhdGVIb21lVGFiLCBkYXRhLmhvbWUpO1xufSIsImltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEljb24gZnJvbSAnLi90cmlmb3JjZS5wbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVIZWFkZXIoaGVhZGVyQ29udGVudCkge1xuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuICAgIGhlYWRlci5jbGFzc05hbWUgPSAnaGVhZGVyJztcblxuICAgIGNvbnN0IGhlYWRlckltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaGVhZGVySW1hZ2Uuc3JjID0gSWNvbjtcbiAgICBoZWFkZXJJbWFnZS5hbHQgPSBoZWFkZXJDb250ZW50LmltZ0FsdFRleHQ7XG5cbiAgICBjb25zdCBoZWFkbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgaGVhZGxpbmUudGV4dENvbnRlbnQgPSBoZWFkZXJDb250ZW50LndlbGNvbWVUZXh0O1xuXG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlckltYWdlKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGxpbmUpO1xuXG4gICAgcmV0dXJuIGhlYWRlcjtcbn1cbiIsImltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IGNvbnRlbnQgZnJvbSAnLi4vLi4vY29udGVudC9lbi5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRm9vdGVyKGRhdGEpIHtcbiAgICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcbiAgICBmb290ZXIuY2xhc3NOYW1lID0gJ2Zvb3Rlcic7XG5cbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRleHQudGV4dENvbnRlbnQgPSBkYXRhLmNvcHlyaWdodFRleHQ7XG5cbiAgICBmb290ZXIuYXBwZW5kQ2hpbGQodGV4dCk7XG5cbiAgICByZXR1cm4gZm9vdGVyO1xufVxuIl0sIm5hbWVzIjpbImxlYWZQcm90b3R5cGVzIiwiZ2V0UHJvdG8iLCJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJtYXAiLCJ3ZWJwYWNrQXN5bmNDb250ZXh0IiwicmVxIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm8iLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJlIiwiRXJyb3IiLCJjb2RlIiwiaWRzIiwiaWQiLCJ0Iiwia2V5cyIsIk9iamVjdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiZ2V0UHJvdG90eXBlT2YiLCJvYmoiLCJ2YWx1ZSIsIm1vZGUiLCJ0aGlzIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwiciIsImRlZiIsImN1cnJlbnQiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJrZXkiLCJkIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImYiLCJjaHVua0lkIiwiYWxsIiwicmVkdWNlIiwicHJvbWlzZXMiLCJ1IiwibWluaUNzc0YiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwid2luZG93IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImwiLCJ1cmwiLCJkb25lIiwicHVzaCIsInNjcmlwdCIsIm5lZWRBdHRhY2giLCJzY3JpcHRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJzIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJ0aW1lb3V0IiwibmMiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJvblNjcmlwdENvbXBsZXRlIiwicHJldiIsImV2ZW50Iiwib25lcnJvciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsImRvbmVGbnMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJmbiIsInNldFRpbWVvdXQiLCJiaW5kIiwidHlwZSIsInRhcmdldCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInJlcGxhY2UiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaiIsImluc3RhbGxlZENodW5rRGF0YSIsInByb21pc2UiLCJyZWplY3QiLCJlcnJvciIsImVycm9yVHlwZSIsInJlYWxTcmMiLCJtZXNzYWdlIiwibmFtZSIsInJlcXVlc3QiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJ0YWciLCJhdHRyaWJ1dGVzIiwidGV4dENvbnRlbnQiLCJlbGVtZW50IiwiYXBwZW5kQ2hpbGRyZW4iLCJwYXJlbnQiLCJjaGlsZHJlbiIsImNoaWxkIiwiY3JlYXRlQ29udGFjdFRhYiIsImNvbnRhY3RDb250ZW50IiwiY29udGFjdERpdiIsImNsYXNzIiwiaGVhZGluZyIsImFkZHJlc3NTZWN0aW9uIiwiYWRkcmVzc0hlYWRpbmciLCJhZGRyZXNzIiwiaG91cnNTZWN0aW9uIiwiaG91cnNIZWFkaW5nIiwiaG91cnMiLCJjb250YWN0Rm9ybVNlY3Rpb24iLCJmb3JtSGVhZGluZyIsImNvbnRhY3RGb3JtIiwicGxhY2Vob2xkZXIiLCJjcmVhdGVIb21lVGFiIiwibWFpbkNvbnRlbnQiLCJob21lRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiZmVhdHVyZWREaXNoU2VjdGlvbiIsImRpc2hIZWFkaW5nIiwiZGlzaEltYWdlIiwiSW1hZ2UiLCJhbHQiLCJkaXNoRGVzY3JpcHRpb24iLCJ2aXNpdFVzU2VjdGlvbiIsInZpc2l0SGVhZGluZyIsInZpc2l0RGVzY3JpcHRpb24iLCJtYWluVGV4dCIsImNyZWF0ZU1lbnVUYWIiLCJtZW51Q29udGVudCIsIm1lbnVEaXYiLCJtZW51QXJlYSIsInNlY3Rpb24iLCJzZWN0aW9ucyIsImNyZWF0ZVNlY3Rpb24iLCJkaXNoZXMiLCJzZWN0aW9uTmFtZSIsInNlY3Rpb25IZWFkaW5nIiwibWVudUNhcmRzIiwiZGlzaCIsImNyZWF0ZURpc2giLCJkZXNjcmlwdGlvbiIsImltYWdlIiwiaW1hZ2VGaWxlbmFtZSIsImNhcmQiLCJkaXNoTmFtZSIsImltYWdlTW9kdWxlIiwiZGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250ZW50IiwiaGVhZGVyIiwiaGVhZGVyQ29udGVudCIsImNsYXNzTmFtZSIsImhlYWRlckltYWdlIiwiaW1nQWx0VGV4dCIsImhlYWRsaW5lIiwid2VsY29tZVRleHQiLCJjcmVhdGVIZWFkZXIiLCJ0YWJzIiwidGFiQ29udGVudCIsImFjdGl2ZVRhYiIsInRhYkRhdGEiLCJjb250ZW50Rm4iLCJob21lIiwibWVudSIsImNvbnRhY3QiLCJzd2l0Y2hUYWIiLCJ0YWJOYW1lIiwiY3JlYXRlVGFiQ29udGVudEZuIiwiYXJncyIsImxvYWRUYWJDb250ZW50IiwiaW5uZXJIVE1MIiwidGFiQ29udGVudEVsZW1lbnQiLCJ0YWIiLCJ0YWJFbGVtZW50IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImluaXRpYWxpemVUYWJOYXZpZ2F0aW9uIiwiZm9vdGVyIiwidGV4dCIsImNvcHlyaWdodFRleHQiLCJjcmVhdGVGb290ZXIiLCJpbml0aWFsaXplRGVmYXVsdENvbnRlbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJzb3VyY2VSb290IjoiIn0=